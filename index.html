<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A Toolkit for Structured Datasets Exploitation • industtry</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A Toolkit for Structured Datasets Exploitation">
<meta name="description" content="This package proposes a set of functions that helps exploiting structured datasets (mostly data frames) with an industrialization approach. Industrialization here means applying as efficiently as possible the same procedure to any number of inputs as long as these inputs have an identified common structure.">
<meta property="og:description" content="This package proposes a set of functions that helps exploiting structured datasets (mostly data frames) with an industrialization approach. Industrialization here means applying as efficiently as possible the same procedure to any number of inputs as long as these inputs have an identified common structure.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">industtry</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="industtry">industtry<a class="anchor" aria-label="anchor" href="#industtry"></a>
</h1></div>
<!-- badges: start -->

<p><code>industtry</code> is a toolkit for <strong>industrial-style exploitation of structured datasets</strong> (primarily data frames), with an emphasis on <strong>set-level operations</strong>: applying the <em>same</em> procedure to <em>many</em> inputs as long as they share an identified structure.</p>
<p>A large part of the package is built around two pragmatic ideas:</p>
<ol style="list-style-type: decimal">
<li>
<strong>“Collections first”</strong>: many workflows fail to scale because they are designed for a single dataset; <code>industtry</code> pushes common tasks to the <em>collection</em> level (importing, inspecting, detecting schema differences, batch conversion, etc.).<br>
</li>
<li>
<strong>“Operational tooling”</strong>: lightweight helpers for day-to-day work (paths, duplicates, joins checks, string replacements, etc.) that tend to recur in production data pipelines.</li>
</ol>
<blockquote>
<p>Some features integrate tightly with <strong>RStudio</strong> (background jobs / interactive workflows). Those parts degrade gracefully when RStudio is not available (examples are marked accordingly).</p>
</blockquote>
<hr>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"danielrak/industtry"</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="api-map-what-the-package-covers">API map (what the package covers)<a class="anchor" aria-label="anchor" href="#api-map-what-the-package-covers"></a>
</h2>
<p>The exported surface is intentionally broad; the table below is a <em>functional map</em> of the main user-facing tools.</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th align="left">Area</th>
<th align="left">Main intent</th>
<th align="left">Key functions</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Import collections</td>
<td align="left">Load multiple datasets into the Global Environment (serialized or parallelized).</td>
<td align="left">serial_import(), parallel_import()</td>
</tr>
<tr class="even">
<td align="left">Batch conversion / renaming</td>
<td align="left">Operate through Excel masks to convert file formats or rename files at scale.</td>
<td align="left">mask_convert_r(), convert_r(), mask_rename_r(), rename_r()</td>
</tr>
<tr class="odd">
<td align="left">Inspection &amp; profiling</td>
<td align="left">Inspect one dataset or a whole folder of datasets; export diagnostics to Excel.</td>
<td align="left">inspect(), inspect_write(), inspect_vars()</td>
</tr>
<tr class="even">
<td align="left">Schema detection / consistency</td>
<td align="left">Detect variables across datasets and compare classes/structures.</td>
<td align="left">vars_detect<em>(), vars_compclasses</em>(), chars_structure<em>(), detect_chars_structure</em>()</td>
</tr>
<tr class="odd">
<td align="left">Data hygiene helpers</td>
<td align="left">Duplicate diagnostics, join checks, proportions, etc.</td>
<td align="left">dupl_show(), dupl_sources(), ljoin_checks(), table_prop()</td>
</tr>
<tr class="even">
<td align="left">Paths &amp; filesystem</td>
<td align="left">Replicate folder structures / move files.</td>
<td align="left">folder_structure_replicate(), path_move()</td>
</tr>
<tr class="odd">
<td align="left">Utilities</td>
<td align="left">String replacement, global assignment, script location, etc.</td>
<td align="left">replace_multiple(), assign_to_global(), current_script_location()</td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="section level2">
<h2 id="core-workflow-1--import-datasets-as-a-collection">Core workflow 1 — import datasets as a collection<a class="anchor" aria-label="anchor" href="#core-workflow-1--import-datasets-as-a-collection"></a>
</h2>
<p>A lot of analysis pipelines begin with import. When you have <strong>many</strong> datasets, importing them “one by one” (and keeping names consistent) becomes error-prone.</p>
<p><code>industtry</code> provides:</p>
<ul>
<li>
<code><a href="reference/serial_import.html">serial_import()</a></code> to import a set of datasets <em>sequentially</em>.<br>
</li>
<li>
<code><a href="reference/parallel_import.html">parallel_import()</a></code> to import a set of datasets <em>in parallel</em> (RStudio only).</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">industtry</span><span class="op">)</span></span>
<span></span>
<span><span class="va">yourdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"permadir_examples_and_tests/importations"</span>, package <span class="op">=</span> <span class="st">"industtry"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lfiles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">yourdir</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/keep.html" class="external-link">keep</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"\\.rds$"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lfiles</span></span></code></pre></div>
<div class="section level3">
<h3 id="sequential-import">Sequential import<a class="anchor" aria-label="anchor" href="#sequential-import"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/serial_import.html">serial_import</a></span><span class="op">(</span><span class="va">lfiles</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parallel-import-rstudio">Parallel import (RStudio)<a class="anchor" aria-label="anchor" href="#parallel-import-rstudio"></a>
</h3>
<p><code>{r, eval = FALSE} # RStudio only: parallel_import(lfiles)</code></p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="core-workflow-2--inspect-datasets-single--collection">Core workflow 2 — inspect datasets (single + collection)<a class="anchor" aria-label="anchor" href="#core-workflow-2--inspect-datasets-single--collection"></a>
</h2>
<p>When datasets come from heterogeneous sources (different producers, different time windows, different exports), a fast “schema + variable” diagnostic helps you converge quickly.</p>
<div class="section level3">
<h3 id="inspect-one-data-frame-to-excel">Inspect one data frame to Excel<a class="anchor" aria-label="anchor" href="#inspect-one-data-frame-to-excel"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># built-in dataset as a simple example</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">cars</span><span class="op">)</span></span>
<span></span>
<span><span class="va">out_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/inspect_write.html">inspect_write</a></span><span class="op">(</span></span>
<span>  data_frame_name <span class="op">=</span> <span class="st">"cars"</span>,</span>
<span>  output_path <span class="op">=</span> <span class="va">out_dir</span>,</span>
<span>  output_label <span class="op">=</span> <span class="st">"cars"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">out_dir</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="inspect-a-whole-folder-of-datasets-to-excel">Inspect a whole folder of datasets to Excel<a class="anchor" aria-label="anchor" href="#inspect-a-whole-folder-of-datasets-to-excel"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mydir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"inspect_vars_readme_example"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">mydir</span>, showWarnings <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">cars</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">mydir</span>, <span class="st">"cars1.rds"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">mydir</span>, <span class="st">"cars2.rds"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/inspect_vars.html">inspect_vars</a></span><span class="op">(</span></span>
<span>  input_path <span class="op">=</span> <span class="va">mydir</span>,</span>
<span>  output_path <span class="op">=</span> <span class="va">mydir</span>,</span>
<span>  output_label <span class="op">=</span> <span class="st">"cardata"</span>,</span>
<span>  considered_extensions <span class="op">=</span> <span class="st">"rds"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">mydir</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="core-workflow-3--industrialized-conversion-mask-driven">Core workflow 3 — industrialized conversion (mask-driven)<a class="anchor" aria-label="anchor" href="#core-workflow-3--industrialized-conversion-mask-driven"></a>
</h2>
<p><code><a href="reference/convert_r.html">convert_r()</a></code> is designed for <strong>batch conversion of dataset file formats</strong> using an Excel mask: a deterministic, auditable interface to define <em>what to convert</em> and <em>how to name outputs</em>.</p>
<p>High-level pattern:</p>
<ol style="list-style-type: decimal">
<li>Create a mask with <code><a href="reference/mask_convert_r.html">mask_convert_r()</a></code>.<br>
</li>
<li>Fill the mask columns.<br>
</li>
<li>Run <code>convert_r(mask_filepath, output_path)</code> (RStudio only).</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mydir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"permadir_examples_and_tests/convert_r"</span>, package <span class="op">=</span></span>
<span>                <span class="st">"industtry"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/mask_convert_r.html">mask_convert_r</a></span><span class="op">(</span>output_path <span class="op">=</span> <span class="va">mydir</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="reference/convert_r.html">convert_r</a></span><span class="op">(</span>mask_filepath <span class="op">=</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">mydir</span>, <span class="st">"mask_convert_r.xlsx"</span><span class="op">)</span>,</span>
<span>          output_path <span class="op">=</span> <span class="va">mydir</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="core-workflow-4--industrialized-file-renaming-mask-driven">Core workflow 4 — industrialized file renaming (mask-driven)<a class="anchor" aria-label="anchor" href="#core-workflow-4--industrialized-file-renaming-mask-driven"></a>
</h2>
<p>Similarly, <code><a href="reference/rename_r.html">rename_r()</a></code> performs <strong>batch renaming</strong> based on an Excel mask created by <code><a href="reference/mask_rename_r.html">mask_rename_r()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mydir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">mydir</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">cars</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">mydir</span>, <span class="st">"cars.rds"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">mydir</span>, <span class="st">"mtcars.rds"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/mask_rename_r.html">mask_rename_r</a></span><span class="op">(</span>input_path <span class="op">=</span> <span class="va">mydir</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">mydir</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/rename_r.html">rename_r</a></span><span class="op">(</span>mask_filepath <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">mydir</span>, <span class="st">"mask_rename_r.xlsx"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing industtry</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Daniel Rakotomalala <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://app.codecov.io/gh/danielrak/industtry?branch=master" class="external-link"><img src="https://codecov.io/gh/danielrak/industtry/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/danielrak/industtry/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/danielrak/industtry/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Daniel Rakotomalala.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
